---
import { SITE_TITLE } from "../consts";
---

<header class="default-background">
  <div
    class="container mx-auto py-7.5 px-5 lg:px-15 md:border-l md:border-r border-gray-300"
  >
    <nav class="flex justify-between items-center container mx-auto">
      <div class="hidden md:block text-xl font-medium">
        <a href="/">{SITE_TITLE}</a>
      </div>

      <div class="block md:hidden text-xl font-medium">
        <a
          href="/"
          class="flex items-center justify-center bg-white w-10 h-10 border border-gray-300 rounded-full"
          >IP</a
        >
      </div>

      <div class="text-sm sm:text-base md:text-lg flex gap-4 items-center">
        <details class="relative group list-none">
          <summary
            class="flex items-center gap-1 cursor-pointer list-none hover:text-gray-600"
          >
            Case Studies
            <svg
              class="w-4 h-4 transition-transform group-open:rotate-180"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>

          <div
            class="absolute left-0 mt-2 w-48 shadow-lg bg-white ring-1 ring-gray-300 ring-opacity-5 z-50"
          >
            <div class="py-1">
              <a
                href="/dav-magazine-case-study"
                class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                >DAV Digital Magazine</a
              >
              <a
                href="/winter-sports-clinic-case-study"
                class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                >Winter Sports Clinic Refresh</a
              >
            </div>
          </div>
        </details>

        <a href="/contact-me">Contact Me</a>
        <a href="/ian-polatka-resume.pdf" target="_blank">Resum√©</a>
      </div>
    </nav>
  </div>
</header>

<style>
  /* Hides the default browser arrow on the summary element */
  summary::-webkit-details-marker {
    display: none;
  }
</style>

<script>
  // Optional: Close dropdown when clicking elsewhere
  document.addEventListener("click", (e) => {
    const details = document.querySelectorAll("details");
    details.forEach((detail) => {
      if (!detail.contains(e.target as Node)) {
        detail.removeAttribute("open");
      }
    });
  });
</script>
